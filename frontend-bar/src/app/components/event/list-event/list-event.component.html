<app-navbar></app-navbar>



<h1>{{ "events" | translate }}</h1>

    <button class="btn add" routerLink="/event/insert"> + </button>



<div class="Table_events">

    <label for="search">Buscar por nombre</label>
    <input type="text" [(ngModel)]="searchTerm" id="search" class="search">

    <table class="table" id="table information">
        <thead>
            <tr>
                <th scope="col">Id</th>
                <th scope="col">{{ "name" | translate }}</th>
                <th scope="col">{{ "date" | translate }}</th>
                <th scope="col">{{ "actions" | translate }}</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let event of listEvent; let i=index"
                [hidden]="event.name_event?.toLowerCase()?.indexOf(searchTerm.toLowerCase()) === -1">
                <td>{{ counter + i }}</td>
                <td>{{ event.name_event }}</td>
                <td>{{ event.date | date: 'short' }}</td>
                <td>
                    <div id="buttonContainer">
                        <button class="openButton btn btn-info" (click)="selectEventId(event.id)">{{ "edit" |
                            translate}}</button>
                        <button class="btn btn-secondary" (click)="deleteEvent(event.id)">{{ "delete" | translate
                            }}</button>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>




<div id="card">
    <form [formGroup]="form" (ngSubmit)="updateEvent()" class="form_up">
        <div class="title">
            <h2>Editar Evento</h2>
        </div>
        <div *ngIf="listEventId.length > 0" class="information_event">
            <input type="hidden" formControlName="id" [value]="listEventId[0].id">
            <div class="body_section">
                <label>{{ "name" | translate }}:</label>
                <input type="text" formControlName="name_event" [value]="listEventId[0].name_event">
            </div>
            <div class="body_section">
                <label>{{ "date" | translate }}:</label>
                <input type="datetime-local" formControlName="date" [value]="listEventId[0].date" id="date_format">
            </div>
        </div>
        <div class="options_button">
            <button type="submit" class="acceptButton">{{ "accept" | translate }}</button>
            <button type="button" class="closeButton">{{ "cancel" | translate }}</button>
        </div>
    </form>
</div>

<app-footer></app-footer>